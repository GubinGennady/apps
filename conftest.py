import os
import django
import pytest

# Настройка окружения Django для тестов
# Устанавливаем переменную окружения с настройками проекта
os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'config.settings')

# Инициализация Django-приложений
# Необходимо для работы моделей и других компонентов Django в тестах
django.setup()

@pytest.fixture(autouse=True)
def enable_db_access_for_all_tests(db):
    """
    Фикстура для автоматического предоставления доступа к БД во всех тестах.

    Особенности:
    - autouse=True: автоматически активируется для всех тестов
    - Параметр db: активирует доступ к тестовой базе данных
    - Пустая реализация (pass): используется стандартное поведение pytest-django

    Позволяет:
    - Использовать ORM Django в тестах
    - Выполнять запросы к базе данных
    - Работать с моделями Django без дополнительных настроек
    """
    pass